<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI路线方案 - 途点儿啥旅行规划</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script>
    // 白蓝主题配置
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#1E88E5',    // 主蓝色
            secondary: '#64B5F6',  // 浅蓝
            accent: '#0D47A1',     // 深蓝强调
            light: '#E3F2FD',      // 极浅蓝背景
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .card-hover {
        @apply transition-all duration-300 hover:shadow-xl hover:-translate-y-1;
      }
      .selected-card {
        @apply border-primary ring-2 ring-primary/20;
      }
      .btn-effect {
        @apply transition-all duration-300 hover:shadow-md active:translate-y-0.5;
      }
    }
  </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
  <!-- 顶部导航 -->
  <header class="bg-white shadow-sm sticky top-0 z-10">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <i class="fa fa-paper-plane text-primary text-2xl"></i>
        <h1 class="text-xl font-bold text-gray-800">途点儿啥</h1>
      </div>
      <nav class="hidden md:flex items-center space-x-6">
        <a href="#" class="text-gray-600 hover:text-primary transition-colors">我的行程</a>
        <a href="#" class="text-primary font-medium border-b-2 border-primary pb-1">AI路线</a>
        <a href="#" class="text-gray-600 hover:text-primary transition-colors">帮助中心</a>
      </nav>
      <div class="flex items-center space-x-3">
        <img src="https://picsum.photos/id/64/40/40" alt="用户头像" class="w-8 h-8 rounded-full object-cover border-2 border-primary">
        <span class="hidden md:inline text-sm font-medium">旅行者小明</span>
      </div>
    </div>
  </header>

  <!-- 主内容区 -->
  <main class="container mx-auto px-4 py-8">
    <!-- 行程信息栏 -->
    <div class="mb-8 bg-white p-4 rounded-lg shadow-sm border-l-4 border-primary">
      <div class="flex flex-col md:flex-row md:justify-between md:items-center">
        <div>
          <h2 class="text-2xl font-bold text-gray-800">云南大理5日游 · AI路线方案</h2>
          <p class="text-gray-500 mt-1">
            <i class="fa fa-map-marker text-primary mr-1"></i> 目的地：大理 
            <span class="mx-2">|</span> 
            <i class="fa fa-calendar text-primary mr-1"></i> 5天4晚 
            <span class="mx-2">|</span> 
            <i class="fa fa-money text-primary mr-1"></i> 总预算：¥6500 
            <span class="mx-2">|</span> 
            <i class="fa fa-tag text-primary mr-1"></i> 兴趣：美食、自然风光
          </p>
        </div>
        <a href="#" class="mt-3 md:mt-0 text-gray-600 hover:text-primary inline-flex items-center">
          <i class="fa fa-arrow-left mr-1"></i> 返回修改需求
        </a>
      </div>
    </div>

    <!-- 方案选择区标题 -->
    <div class="text-center mb-8">
      <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-2">AI为您生成3条路线方案</h3>
      <p class="text-gray-500 max-w-2xl mx-auto">基于您的需求，我们推荐以下路线方案。选择后可进入协作界面与伙伴共同优化</p>
    </div>

    <!-- 路线方案卡片列表 -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
      <!-- 方案1 -->
      <div class="bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden card-hover" id="plan1">
        <div class="relative">
          <img src="https://picsum.photos/id/1036/600/300" alt="大理经典路线" class="w-full h-48 object-cover">
          <div class="absolute top-3 left-3 bg-primary text-white text-xs font-medium px-2 py-1 rounded">
            推荐指数 92%
          </div>
          <div class="absolute top-3 right-3">
            <input type="radio" name="planSelect" id="select1" class="w-5 h-5 accent-primary" checked>
          </div>
        </div>
        <div class="p-5">
          <div class="flex justify-between items-start mb-3">
            <h4 class="text-lg font-semibold">经典全景路线</h4>
            <span class="bg-light text-primary text-xs px-2 py-1 rounded-full">均衡体验</span>
          </div>
          <div class="grid grid-cols-3 gap-2 text-sm text-gray-600 mb-4">
            <div class="flex flex-col items-center p-2 bg-gray-50 rounded">
              <i class="fa fa-camera text-primary mb-1"></i>
              <span>12个景点</span>
            </div>
            <div class="flex flex-col items-center p-2 bg-gray-50 rounded">
              <i class="fa fa-cutlery text-primary mb-1"></i>
              <span>8家特色餐</span>
            </div>
            <div class="flex flex-col items-center p-2 bg-gray-50 rounded">
              <i class="fa fa-bus text-primary mb-1"></i>
              <span>交通便捷</span>
            </div>
          </div>
          <div class="border-t border-gray-100 pt-3">
            <div class="flex justify-between items-center mb-2">
              <span class="text-gray-500 text-sm">总预算</span>
              <span class="font-semibold">¥6450</span>
            </div>
            <div class="flex space-x-2">
              <button class="flex-1 text-sm bg-white border border-primary text-primary hover:bg-light py-2 rounded-md btn-effect" onclick="showDetail(1)">
                查看详情
              </button>
              <button class="flex-1 text-sm bg-primary hover:bg-accent text-white py-2 rounded-md btn-effect" onclick="selectPlan(1)">
                选择此方案
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 方案2 -->
      <div class="bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden card-hover" id="plan2">
        <div class="relative">
          <img src="https://picsum.photos/id/1039/600/300" alt="大理美食路线" class="w-full h-48 object-cover">
          <div class="absolute top-3 left-3 bg-secondary text-white text-xs font-medium px-2 py-1 rounded">
            推荐指数 88%
          </div>
          <div class="absolute top-3 right-3">
            <input type="radio" name="planSelect" id="select2" class="w-5 h-5 accent-primary">
          </div>
        </div>
        <div class="p-5">
          <div class="flex justify-between items-start mb-3">
            <h4 class="text-lg font-semibold">美食寻味路线</h4>
            <span class="bg-light text-primary text-xs px-2 py-1 rounded-full">吃货首选</span>
          </div>
          <div class="grid grid-cols-3 gap-2 text-sm text-gray-600 mb-4">
            <div class="flex flex-col items-center p-2 bg-gray-50 rounded">
              <i class="fa fa-camera text-primary mb-1"></i>
              <span>8个景点</span>
            </div>
            <div class="flex flex-col items-center p-2 bg-gray-50 rounded">
              <i class="fa fa-cutlery text-primary mb-1"></i>
              <span>12家特色餐</span>
            </div>
            <div class="flex flex-col items-center p-2 bg-gray-50 rounded">
              <i class="fa fa-bicycle text-primary mb-1"></i>
              <span>慢节奏</span>
            </div>
          </div>
          <div class="border-t border-gray-100 pt-3">
            <div class="flex justify-between items-center mb-2">
              <span class="text-gray-500 text-sm">总预算</span>
              <span class="font-semibold">¥6780</span>
            </div>
            <div class="flex space-x-2">
              <button class="flex-1 text-sm bg-white border border-primary text-primary hover:bg-light py-2 rounded-md btn-effect" onclick="showDetail(2)">
                查看详情
              </button>
              <button class="flex-1 text-sm bg-primary hover:bg-accent text-white py-2 rounded-md btn-effect" onclick="selectPlan(2)">
                选择此方案
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 方案3 -->
      <div class="bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden card-hover" id="plan3">
        <div class="relative">
          <img src="https://picsum.photos/id/1043/600/300" alt="大理自然风光路线" class="w-full h-48 object-cover">
          <div class="absolute top-3 left-3 bg-secondary text-white text-xs font-medium px-2 py-1 rounded">
            推荐指数 85%
          </div>
          <div class="absolute top-3 right-3">
            <input type="radio" name="planSelect" id="select3" class="w-5 h-5 accent-primary">
          </div>
        </div>
        <div class="p-5">
          <div class="flex justify-between items-start mb-3">
            <h4 class="text-lg font-semibold">自然探索路线</h4>
            <span class="bg-light text-primary text-xs px-2 py-1 rounded-full">户外爱好者</span>
          </div>
          <div class="grid grid-cols-3 gap-2 text-sm text-gray-600 mb-4">
            <div class="flex flex-col items-center p-2 bg-gray-50 rounded">
              <i class="fa fa-camera text-primary mb-1"></i>
              <span>15个景点</span>
            </div>
            <div class="flex flex-col items-center p-2 bg-gray-50 rounded">
              <i class="fa fa-cutlery text-primary mb-1"></i>
              <span>6家特色餐</span>
            </div>
            <div class="flex flex-col items-center p-2 bg-gray-50 rounded">
              <i class="fa fa-hiking text-primary mb-1"></i>
              <span>轻度徒步</span>
            </div>
          </div>
          <div class="border-t border-gray-100 pt-3">
            <div class="flex justify-between items-center mb-2">
              <span class="text-gray-500 text-sm">总预算</span>
              <span class="font-semibold">¥6200</span>
            </div>
            <div class="flex space-x-2">
              <button class="flex-1 text-sm bg-white border border-primary text-primary hover:bg-light py-2 rounded-md btn-effect" onclick="showDetail(3)">
                查看详情
              </button>
              <button class="flex-1 text-sm bg-primary hover:bg-accent text-white py-2 rounded-md btn-effect" onclick="selectPlan(3)">
                选择此方案
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 底部操作区 -->
    <div class="flex flex-col sm:flex-row justify-center items-center gap-4 mt-8">
      <button id="regenerateBtn" class="bg-white border border-gray-300 text-gray-700 font-medium px-6 py-3 rounded-lg btn-effect flex items-center">
        <i class="fa fa-sync mr-2 text-primary"></i> 重新生成方案
      </button>
      <button id="confirmBtn" class="bg-primary hover:bg-accent text-white font-medium px-8 py-3 rounded-lg btn-effect flex items-center">
        <i class="fa fa-check mr-2"></i> 确认选中方案，进入协作
      </button>
    </div>
  </main>

  <!-- 方案详情弹窗（默认隐藏） -->
  <div id="detailModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto m-4 transform scale-95 transition-transform duration-300" id="modalContent">
      <div class="p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10">
        <h3 class="text-xl font-bold" id="modalTitle">路线方案详情</h3>
        <button id="closeModal" class="text-gray-500 hover:text-gray-700 text-xl">
          <i class="fa fa-times"></i>
        </button>
      </div>
      <div class="p-6" id="modalBody">
        <!-- 详情内容将通过JS动态填充 -->
      </div>
    </div>
  </div>

  <!-- 提示弹窗 -->
  <div id="toast" class="fixed bottom-6 right-6 bg-accent text-white px-4 py-2 rounded-md shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 flex items-center">
    <i class="fa fa-check-circle mr-2"></i>
    <span id="toastText">操作成功</span>
  </div>

  <script>
    // 方案数据（模拟AI生成的详情）
    const planDetails = {
      1: {
        title: "经典全景路线",
        days: [
          "Day 1：抵达大理 → 大理古城（夜游）→ 特色石板烧晚餐",
          "Day 2：洱海西岸骑行 → 喜洲古镇（白族民居）→ 海舌生态公园",
          "Day 3：崇圣寺三塔 → 蝴蝶泉 → 大理公馆日落",
          "Day 4：双廊古镇 → 南诏风情岛 → 渔火晚餐",
          "Day 5：苍山洗马潭索道 → 天龙八部影视城 → 返程"
        ],
        budget: "住宿：¥2000（4晚特色民宿） | 餐饮：¥1200 | 门票：¥1500 | 交通：¥800 | 其他：¥950"
      },
      2: {
        title: "美食寻味路线",
        days: [
          "Day 1：抵达大理 → 大理古城（老字号乳扇沙琪玛）→ 北门菜市场小吃",
          "Day 2：喜洲古镇（现做喜洲粑粑）→ 海舌公园 → 周城村（白族八大碗）",
          "Day 3：双廊古镇（杨丽萍太阳宫下午茶）→ 本地渔民海鲜",
          "Day 4：沙溪古镇（马帮菜）→ 石宝山歌会（季节性）",
          "Day 5：大理市区（野生菌火锅）→ 特产采购 → 返程"
        ],
        budget: "住宿：¥2200（特色客栈） | 餐饮：¥2000 | 门票：¥1000 | 交通：¥800 | 其他：¥780"
      },
      3: {
        title: "自然探索路线",
        days: [
          "Day 1：抵达大理 → 苍山感通索道 → 寂照庵素斋 → 大理古城",
          "Day 2：洱海东岸徒步 → 挖色小普陀 → 小普陀观鸟",
          "Day 3：无量山樱花谷（季节性）→ 南涧跳菜表演",
          "Day 4：诺邓古镇（千年白族村）→ 诺邓火腿宴",
          "Day 5：鹤庆新华村（银器小镇）→ 草海湿地 → 返程"
        ],
        budget: "住宿：¥1800（山景民宿） | 餐饮：¥900 | 门票：¥1600 | 交通：¥1100 | 其他：¥800"
      }
    };

    // 显示方案详情
    function showDetail(planId) {
      const detail = planDetails[planId];
      document.getElementById("modalTitle").textContent = detail.title + " - 每日安排";
      
      // 构建详情内容
      let bodyHtml = `<div class="mb-6">
        <h4 class="font-semibold text-gray-800 mb-3">预算明细</h4>
        <p class="text-gray-600 text-sm">${detail.budget}</p>
      </div>
      <div>
        <h4 class="font-semibold text-gray-800 mb-3">每日行程</h4>
        <ul class="space-y-4">`;
      
      detail.days.forEach((day, index) => {
        bodyHtml += `<li class="flex">
          <div class="flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-medium mr-3">
            ${index + 1}
          </div>
          <p class="text-gray-700">${day}</p>
        </li>`;
      });
      
      bodyHtml += `</ul></div>`;
      document.getElementById("modalBody").innerHTML = bodyHtml;

      // 显示弹窗
      const modal = document.getElementById("detailModal");
      const modalContent = document.getElementById("modalContent");
      modal.classList.remove("opacity-0", "pointer-events-none");
      setTimeout(() => {
        modalContent.classList.remove("scale-95");
        modalContent.classList.add("scale-100");
      }, 10);
    }

    // 关闭详情弹窗
    document.getElementById("closeModal").addEventListener("click", () => {
      const modal = document.getElementById("detailModal");
      const modalContent = document.getElementById("modalContent");
      modalContent.classList.remove("scale-100");
      modalContent.classList.add("scale-95");
      setTimeout(() => {
        modal.classList.add("opacity-0", "pointer-events-none");
      }, 300);
    });

    // 选择方案（高亮显示）
    function selectPlan(planId) {
      // 移除所有选中状态
      document.querySelectorAll('[id^="plan"]').forEach(card => {
        card.classList.remove("selected-card");
      });
      // 添加当前选中状态
      document.getElementById(`plan${planId}`).classList.add("selected-card");
      // 选中对应单选按钮
      document.getElementById(`select${planId}`).checked = true;
    }

    // 单选按钮变化时同步选中状态
    document.querySelectorAll('[name="planSelect"]').forEach(radio => {
      radio.addEventListener("change", function() {
        if (this.checked) {
          const planId = this.id.replace("select", "");
          selectPlan(planId);
        }
      });
    });

    // 重新生成按钮
    document.getElementById("regenerateBtn").addEventListener("click", () => {
      showToast("AI正在重新生成方案，请稍候...");
      // 模拟加载效果
      setTimeout(() => {
        showToast("新方案生成成功！");
      }, 2000);
    });

    // 确认选择按钮
    document.getElementById("confirmBtn").addEventListener("click", () => {
      const selectedPlan = document.querySelector('[name="planSelect"]:checked').id.replace("select", "");
      showToast(`已选择【${planDetails[selectedPlan].title}】，即将进入协作界面...`);
      // 实际应用中此处会跳转至共同协作界面
      setTimeout(() => {
        window.location.href = "协作界面.html"; // 假设协作界面的URL
      }, 1500);
    });

    // 显示提示弹窗
    function showToast(text) {
      const toast = document.getElementById("toast");
      const toastText = document.getElementById("toastText");
      toastText.textContent = text;
      toast.classList.remove("translate-y-20", "opacity-0");
      toast.classList.add("translate-y-0", "opacity-100");
      setTimeout(() => {
        toast.classList.remove("translate-y-0", "opacity-100");
        toast.classList.add("translate-y-20", "opacity-0");
      }, 3000);
    }

    // 初始化选中第一个方案
    selectPlan(1);
  </script>
</body>
</html>
